```
status: Draft
submit: 27 Sep 2024
dialog: https://github.com/JFWooten4/free-markets/issues/7
```

# ðŸ’± Interleaving the SDEX & AMMs

This discussion extends decentralization points made in [note 2.1.1](https://github.com/stellar/stellar-protocol/discussions/1504), [SCP#25](https://github.com/stellar/scp-proofs/issues/25), and [Cede](https://www.whydrs.org/post/cede-ing-ownership-why-almost-all-publicly-traded-stock-belongs-to-one-company) [timeframe](https://groups.google.com/g/stellar-dev/c/vSsf75cYi5Q/m/AaIjpmC4BAAJ#:~:text=Whether,years). Its principles nullify incumbent business models employed by community members that have directly helped me over the years. Sorry about that, but keep [innovating](LINKEDIN_INNOVATOR_POST?)!

---

An efficient market to me means the most value possible given to all participants. If there's a `payment` taking place, it means the lowest [requisite](DISCORD_BT_ALPHA_WHITEPAPR_THREAD) trabsaction cost. And if it's a digital marketplace of buyers and sellers, it means [quite the same](https://wooten.link/gnu).

A middlemen, call them the New York Stock Exchange, charging an extra fee to "authorize" and effectuate a transaction? Well that sounds like an antiquated[^thesis] business model to me. And indeed, at XYZ billion dollars [in value](SEC_AYAHOO_FINANCE_OR_ANNUAL_REPORT), these are profitable business models.

## Free Markets

The immediate question for me is whetehr or not we should allow something so fundamental to human life like trade itself
Namely, might we focus on trade, the essense of en efficient capilistt society? The immediate question: should we leave something so fundamental to our advanced, developed, and practoiced ideals of specialization up to the whims of a [select](idk_maybe_valve_sex_things_but_not_ideal-PROB_WALL_ST) [few](SPOTIFY_LOW_ARTIST_ROYALITIES.....OR_IF_NA_THEN_APPLE_NOT_PAYING_ARTISTS_FOR_TRIAL) [middlemen](WORSE_POSSIBLE_EXAMPLE_PROBNABLY_CHARGING_500_FOR_INSULIN or other lifesaving thing)?

To answer this question in the narrow case of the SDEX, might we contemplate the history of traditional centralized financial marketsd? It's my interpration of history that, in the long run, all intermediaries go bankrupt.[^jerry] Namelt, the evoliution of ECNs[^ecn-q] presents a compelling case for the race to zero.

[^thesis]: _See_ Block Transfer's [foundational thesis](https://wooten.link/thesis).
[^jerry]: _See, e.g.,_ [STUDY_1](), [executive sentiments](GITHUB_BT_LINK_STOPSIGN), and [STUDY_2]().
[^ecn-q]: _See supra_ note 1. The parallel of ECNs to Stellar would be a UniswapV4-style Soroban order book, except you can pay [kickbacks]() and other [bribes]() to [fragment the market](GARY_97%_CONGRESS_TALK_DIRECT_TIMESTAMP). The end result of these schenanigans is the plutocracy governing our extractive American stock market.[^America]
[^America]: My diction is quite sentimentatal to my hoome nation, as these inescapable "decentralizing" centralization problems reached our market xyz. explain something here on global impact and being blocked out from investing. But if you live elsewere, (especially somewhere less developed) then you may not even have access to these markets in the first place&mdash;which is the promise the network offers to everyone once ubiquitous.

### Price Competition

In the 70's, the NYSE charged $XYZ per stock trade. Your broker pays many fees like these to the [plethora](ANKIT_<MARKET_STRUCUTRE_POST_LINKEDIN) of middlemen in the present market system. For context, here's just a small part of existing trade clearing and settlement labrynths:

[![complex-trading-birdnest](With yellowpaper image https://blocktransfer.com/.well-known/XYZ.png)](https://blocktransfer.com/.well-known/yellowpaper.pdf)





On Efficient Markets

---

Financial markets thrive because of liquidity. It's the grease in the wheels, so to speak, of a global payments system. Stellar is one of the very few platforms that accounts for liquidity at scale with no centralized party.

The [founders](https://stellar.org/blog/foundation-news/introducing-stellar) of the network, particularly Jed McCaleb, understood firsthand the quandaries of centralized [order books](https://wikipedia.org/wiki/Order_book). In 2012, Jed [wrote](https://bitcointalk.org/index.php?topic=108782.msg1182508#msg1182508): "One thing you can do with it is exchange bitcoins for fiat without the need for a centralized market such as Mt. Gox. Which will be very useful for Bitcoin" when discussing preliminary ideas for Stellar.

This [prescient](https://x.com/JFWooten4/status/1809667647040327949) perspective led to the creation of a distributed exchange, as it was [originally named](https://web.archive.org/web/20170415141617/https://www.stellar.org/developers/guides/concepts/exchange.html). The core concept, released in the [first version](https://discord.com/channels/897514728459468821/907476473739354153/1158791737565782199) of the protocol, still operates today. However, for phonetic reasons, we will hereafter refer to it as the Stellar Decentralized Exchange or SDEX.

> Multiple exchanges will only increase volatility since each market will be thinner. The only thing that will decrease volatility is liquidity. &mdash[Jed McCaleb](https://bitcointalk.org/index.php?topic=16032.msg212418#msg212418)

Since any account can send an order to the SDEX, its order book is uniquely egalitarian in that all market participants follow the same rules, treatment, and pricing. You receive the same exchange rate whetehr you are a major European bank or a rural Kenyan farmer.. Ubdeed, the [throughout](REF_SPEEDEX-inclACcc?) enabled by [SCP](REF_DOCS_SCP_PAGE) means you can specify exactly how much you pay for conversions.


---

Developer goals

# Value Alignment

> The Stellar Protocol should be clear, concise, and opinionated.

> New operations and functionality should be opinionated, and straightforward to use.

> There should ideally be only one obvious way to accomplish a given task.

> **The Stellar Protocol should bias towards user safety.**
see 87% GME internalization rate at GME_RH_INT_RATE_LINK_HERE

---

Stellar goals:

# Goal Alignment

> The Stellar Network should be secure and reliable, and should bias towards safety, simplicity, reliability, and performance over new functionality.

## Reliable Safety

## Execution/Routing Simplicity

## Priotizing Performance

raw inputs v conmpo




## Transactional Efficiency

> The Stellar Network should run at scale and at low cost to all participants of the network.

cost of soroban is higher than classic

same ass shit

> the Stellar Network should support off-chain transactions, e.g. Starlight

this is literally speedex sorta




## Triplicate Implications

> The Stellar Network should enable cross-border payments, i.e. payments via exchange of assets, throughout the globe, enabling users to make payments between assets in a manner that is fast, cheap, and highly usable.



## Interoperability Standard

> The Stellar Network should facilitate simplicity and interoperability with other protocols and networks.

antithical to wierd propritary routing functions
^ standardizing this would basically be communism forcing all permissionless devs to do the same ass shit


## Global Simplicity

> the Stellar Network should support an orderbook that values simplicity over functionality, and one that primarily serves to enable cross-border payments.


> The Stellar Network should enable users to **easily** exchange their non-Stellar based assets to Stellar-based assets, and vice versa.
_[emphasis added]_


> The Stellar Network should make it easy for developers of Stellar projects to create highly usable products.

highly usable doesn't mean DEX aggregators
"The Stellar Network" doesn't mean a centralized router on Soroban, despite upgradability <-- ONLY REFERENCE TO SOROBAN UPGRADABILITY

## Liquidity Mandate

> In support of this, the Stellar Network should facilitate liquidity as a means to enabling cross-border payments.


not fucking possible if fragmented
refer to forex broker ECN model v. `var` accounts


## Values Contemplation

> The Stellar Network should support decentralization wherever possible, but not at the expense of the majority of its values.

sum up with "if we really support [egalitarianism](EXCLUSIVE_VALUES_HREF to https://github.com/stellar/stellar-protocol/blob/master/core/README.md#stellar-network-goals) and everyone participating on the [same playing field](https://www.youtube.com/watch?v=iIMgaUyiEho&list=PLWUFvhKuc_5tD62OdZIv3HUaf4eBaQzG8), then might we contemplate further the competative advantages of interleaving the SDEX with native AMMs? ðŸ’­


The Stellar Network should make it easy for developers of Stellar projects to create highly usable products.



---

## Uniqueness of SDEX
^need to establish how fucked up the system is first
Special because it is the only real distributed order book, reference 

## Decentralization of Rules
^need to first contextualize how impoertant this is per: https://x.com/JFWooten4/status/1838612974325412246
A crucial differentiator from explicit contract rules, implications: https://wooten.link/uniswap

## Efficient Direct States
Reference how it manages the ledger through explicit and defined patterns without external state.
more of a technical thing, prob need to dive into the Herder if time

## Transparent Access Patterns
A universal set of standards for interoperation, reporting, and modifications.
^showcase traditional market API costs, incl. DSTOQ, and flawed long-term approach
discuss explicit REG SHO fee caps with links to the three tenths page in a formal PDF
charts and studies on that if time allows 






# Significance
On markets as one of the base functionalities of a capitalist financial system, like `payments`.

## Direct AMM Comparisons
Order book limits compete explicitly with crowdsourced liquidity pools.

## Compounding Fragmentation Perils
By separating the base trading functions so intertwined with the network, we can introduce extractive attack vectors by the nature of rent-seeking.

### Legacy Market Evolutions
We want to promote innovation but understand the past of fragmenting liquidity via ATS evolutions.

### Extensively Complicated Systems
detail the implications of `routing` brokers / parallel to newfound DEX aggregators.

### Popular Chain Problems
How this applies to all the trading applications on legacy smart contracts because of fragmentation.

## Enabling Equal Efficiency
Certain processes are already extracting value as commission on smarter trade routing.

# Combination Remedies
Introduce per CAP37, making orders work at the validator level.

## Eliminating Redundancies
The prediction of all the circular path payments was correct.

## Protecting Users
Know they get the best execution with concentrated liquidity; redundant fragmentation eliminated.

## Adapt Insights
Proactively see how others improve (which has been effectively nil) and incorporate into network upgrades.

---

We want users to have the most financial success. Let's do it together!

idk somewhere should reference https://www.reddit.com/r/Crypto_com/comments/igh4t3/where_does_cash_back_cro_come_from/ which has internalization discussion at https://www.reddit.com/r/Crypto_com/comments/igh4t3/comment/g2uoo57/ in re _TS_ on torubled broker business models (maybe https://www.listennotes.com/podcasts/taking-stock-whydrsorg-cinl5YDNPCJ/)

INIMICAL WITH THE sdex

commend osmething.... probably garand? i really liked his recent explainers on state expiration
